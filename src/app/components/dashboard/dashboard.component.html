<div class="dashboard-container">
  <mat-toolbar color="primary">
    <span>AIIMS Admin Dashboard</span>
    <span class="spacer"></span>
    <button mat-button [matMenuTriggerFor]="adminMenu">
      <mat-icon>account_circle</mat-icon>
      {{ authService.currentAdminValue?.username }}
    </button>
    <mat-menu #adminMenu="matMenu">
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        Logout
      </button>
    </mat-menu>
  </mat-toolbar>

  <div class="dashboard-content">
    <!-- Metrics Cards -->
    <div *ngIf="isLoading" class="loading-spinner">
      <mat-spinner></mat-spinner>
    </div>

    <div *ngIf="!isLoading" class="metrics-grid">
      <mat-card class="metric-card">
        <mat-card-header>
          <mat-card-title>Total Emails Processed</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="metric-value">{{ metrics.totalEmails }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="metric-card">
        <mat-card-header>
          <mat-card-title>Processed Today</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="metric-value">{{ metrics.processedToday }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="metric-card">
        <mat-card-header>
          <mat-card-title>Open Tickets</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="metric-value">{{ metrics.openTickets }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="metric-card">
        <mat-card-header>
          <mat-card-title>Auto Replies Sent</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="metric-value">{{ metrics.autoReplies }}</div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Navigation Tabs -->
    <mat-tab-group>
      <mat-tab label="Email Logs">
        <app-email-logs></app-email-logs>
      </mat-tab>
      <mat-tab label="Tickets">
        <app-tickets></app-tickets>
      </mat-tab>
      <mat-tab label="System Config">
        <div class="config-section">
          <h3>System Configuration</h3>
          <p>Domain selection and model training configuration will be implemented here.</p>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>